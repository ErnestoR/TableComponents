{"ast":null,"code":"import _objectSpread from \"/Users/eramirez/Sites/TableComponents/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n\nvar _s = $RefreshSig$();\n\nimport { usePagination, useTable } from 'react-table';\nimport { usePaginationState } from './usePaginationState';\nexport var useTableQueryPagination = function useTableQueryPagination(queryHook, tableConfig) {\n  _s();\n\n  var _query$data;\n\n  var _usePaginationState = usePaginationState(),\n      pageIndex = _usePaginationState.pageIndex,\n      pageSize = _usePaginationState.pageSize,\n      getPaginationProps = _usePaginationState.getPaginationProps;\n\n  var query = queryHook(pageIndex, pageSize);\n\n  for (var _len = arguments.length, tablePlugins = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    tablePlugins[_key - 2] = arguments[_key];\n  }\n\n  var tableInstance = useTable.apply(void 0, [_objectSpread(_objectSpread({}, tableConfig), {}, {\n    data: (query === null || query === void 0 ? void 0 : (_query$data = query.data) === null || _query$data === void 0 ? void 0 : _query$data.loads) || [],\n    manualPagination: true,\n    initialState: {\n      pageIndex: pageIndex,\n      pageSize: pageSize\n    },\n    pageCount: query.isSuccess ? query.data.metadata.totalPages : null\n  }, getPaginationProps())].concat(tablePlugins, [usePagination]));\n  return {\n    query: query,\n    tableInstance: tableInstance\n  };\n};\n\n_s(useTableQueryPagination, \"Ao81xXY2vfrCq+/ktETS26u4QhI=\", false, function () {\n  return [usePaginationState, useTable];\n});","map":{"version":3,"sources":["/Users/eramirez/Sites/TableComponents/src/hooks/useTableQueryPagination.js"],"names":["usePagination","useTable","usePaginationState","useTableQueryPagination","queryHook","tableConfig","pageIndex","pageSize","getPaginationProps","query","tablePlugins","tableInstance","data","loads","manualPagination","initialState","pageCount","isSuccess","metadata","totalPages"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,QAAwC,aAAxC;AACA,SAASC,kBAAT,QAAmC,sBAAnC;AAEA,OAAO,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,CACrCC,SADqC,EAErCC,WAFqC,EAIlC;AAAA;;AAAA;;AACH,4BAAoDH,kBAAkB,EAAtE;AAAA,MAAQI,SAAR,uBAAQA,SAAR;AAAA,MAAmBC,QAAnB,uBAAmBA,QAAnB;AAAA,MAA6BC,kBAA7B,uBAA6BA,kBAA7B;;AACA,MAAMC,KAAK,GAAGL,SAAS,CAACE,SAAD,EAAYC,QAAZ,CAAvB;;AAFG,oCADAG,YACA;AADAA,IAAAA,YACA;AAAA;;AAIH,MAAMC,aAAa,GAAGV,QAAQ,MAAR,0CAEfI,WAFe;AAGlBO,IAAAA,IAAI,EAAE,CAAAH,KAAK,SAAL,IAAAA,KAAK,WAAL,2BAAAA,KAAK,CAAEG,IAAP,4DAAaC,KAAb,KAAsB,EAHV;AAIlBC,IAAAA,gBAAgB,EAAE,IAJA;AAKlBC,IAAAA,YAAY,EAAE;AACZT,MAAAA,SAAS,EAATA,SADY;AAEZC,MAAAA,QAAQ,EAARA;AAFY,KALI;AASlBS,IAAAA,SAAS,EAAEP,KAAK,CAACQ,SAAN,GAAkBR,KAAK,CAACG,IAAN,CAAWM,QAAX,CAAoBC,UAAtC,GAAmD;AAT5C,KAUfX,kBAAkB,EAVH,UAYjBE,YAZiB,GAapBV,aAboB,GAAtB;AAgBA,SAAO;AACLS,IAAAA,KAAK,EAALA,KADK;AAELE,IAAAA,aAAa,EAAbA;AAFK,GAAP;AAID,CA5BM;;GAAMR,uB;UAKyCD,kB,EAG9BD,Q","sourcesContent":["import { usePagination, useTable } from 'react-table';\nimport { usePaginationState } from './usePaginationState';\n\nexport const useTableQueryPagination = (\n  queryHook,\n  tableConfig,\n  ...tablePlugins\n) => {\n  const { pageIndex, pageSize, getPaginationProps } = usePaginationState();\n  const query = queryHook(pageIndex, pageSize);\n\n  const tableInstance = useTable(\n    {\n      ...tableConfig,\n      data: query?.data?.loads || [],\n      manualPagination: true,\n      initialState: {\n        pageIndex,\n        pageSize,\n      },\n      pageCount: query.isSuccess ? query.data.metadata.totalPages : null,\n      ...getPaginationProps(),\n    },\n    ...tablePlugins,\n    usePagination\n  );\n\n  return {\n    query,\n    tableInstance,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}